---
import { getCollection, getEntry } from 'astro:content'
import DocLayout from 'fulldev-ui/layouts/DocLayout.astro'

export async function getStaticPaths() {
  const collection = await getCollection('docs')
  return collection.map((entry) => ({
    params: {
      docs: 'docs',
      doc: entry.slug,
    },
    props: entry,
  }))
}

const { data, ...rest } = Astro.props

const baseLayout = await getEntry('layouts', 'base')
---

<DocLayout
  {...baseLayout.data}
  {...data}
  {...rest}
/>
