---
import { getCollection, getEntry } from 'astro:content'
import PostLayout from 'fulldev-ui/layouts/PostLayout.astro'

export async function getStaticPaths() {
  const collection = await getCollection('posts')
  return collection.map((entry) => ({
    params: {
      posts: 'blog',
      post: entry.slug,
    },
    props: entry,
  }))
}

const { data, ...rest } = Astro.props

const baseLayout = await getEntry('layouts', 'base')
---

<PostLayout
  {...baseLayout.data}
  {...data}
  {...rest}
/>
