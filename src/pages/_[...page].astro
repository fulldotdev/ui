---
import { getCollection, render } from "astro:content"

import { transformPage } from "@/lib/transforms"
import Page from "@/components/page.astro"

export async function getStaticPaths() {
  const pages = await getCollection("pages")
  const transformedPages = await transformPage.array().parseAsync(pages)
  return transformedPages.map((page) => {
    return {
      params: {
        page: page.data.href === "/" ? undefined : page.data.href,
        data: page,
      },
      props: page,
    }
  })
}

// const { Content } = await render(Astro.props)
---

<Page {...Astro.props}>
  <!-- <Content /> -->
</Page>
