---
import { getCollection, getEntry } from 'astro:content'
import ProductLayout from 'fulldev-ui/layouts/ProductLayout.astro'

export async function getStaticPaths() {
  const collection = await getCollection('products')
  return collection.map((entry) => ({
    params: {
      products: 'producten',
      product: entry.slug,
    },
    props: entry,
  }))
}

const { data, ...rest } = Astro.props

const baseLayout = await getEntry('layouts', 'base')
---

<ProductLayout
  {...baseLayout.data}
  {...data}
  {...rest}
/>
