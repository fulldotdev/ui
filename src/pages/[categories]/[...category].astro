---
import { getCollection, getEntry } from 'astro:content'
import CategoryLayout from 'fulldev-ui/layouts/CategoryLayout.astro'

export async function getStaticPaths() {
  const collection = await getCollection('categories')
  return collection.map((entry) => ({
    params: {
      categories: 'categorieen',
      category: entry.slug,
    },
    props: entry,
  }))
}

const { data, ...rest } = Astro.props

const baseLayout = await getEntry('layouts', 'base')
---

<CategoryLayout
  {...baseLayout.data}
  {...data}
  {...rest}
/>
