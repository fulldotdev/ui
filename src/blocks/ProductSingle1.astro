---
import Box from '@/components/Box.astro'
import Button from '@/components/Button.astro'
import Container from '@/components/Container.astro'
import Gallery from '@/components/Gallery.vue'
import Image from '@/components/Image.astro'
import List from '@/components/List.astro'
import Price from '@/components/Price.astro'
import Prose from '@/components/Prose.astro'
import Section from '@/components/Section.astro'
import Split from '@/components/Split.astro'
import Writeup from '@/components/Writeup.astro'
import type { ProductSingleSchema } from '@/schemas/blocks/productSingle'

interface Props extends ProductSingleSchema {}

const { title, description, list, images, price } = Astro.props
---

<Section class="pt-4 lg:pt-16">
  <Container>
    <Split>
      <Box class="flex flex-col gap-16">
        <Gallery client:load>
          {
            images?.map((image) => (
              <Image
                class="aspect-square h-full w-full object-contain"
                src={image.src}
                alt={image.alt}
              />
            ))
          }
        </Gallery>
        <Prose class="max-lg:hidden">
          <slot />
        </Prose>
      </Box>
      <Writeup
        size="sm"
        class="lg:pl-8"
      >
        <Box as="h1">{title}</Box>
        <Box as="p">{description}</Box>
        <Price
          class="mt-4 text-xl font-medium"
          amount={price}
        />
        <Button
          class="mt-4"
          size="lg"
          text="In winkelwagen"
          icon="shopping-cart"
        />
        <List
          class="pt-4 text-muted-foreground"
          items={list}
        />
      </Writeup>
      <Prose class="lg:hidden">
        <slot />
      </Prose>
    </Split>
  </Container>
</Section>
