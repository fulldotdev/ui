---
import Channels from 'fulldev-ui/components/Channels.astro'
import Element from 'fulldev-ui/components/Element.astro'
import Form from 'fulldev-ui/components/Form.astro'
import Heading from 'fulldev-ui/components/Heading.astro'
import Image from 'fulldev-ui/components/Image.astro'
import Socials from 'fulldev-ui/components/Socials.astro'
import Tagline from 'fulldev-ui/components/Tagline.astro'
import Text from 'fulldev-ui/components/Text.astro'

const {
  as = 'section',
  size = 'md',
  variant = 1,
  heading,
  form,
  text,
  tagline,
  googleMaps,
  paragraph,
  buttons,
  socials,
  position,
  image,
  channels,
  level = 1,
  ...rest
} = Astro.props
---

<Element
  class:list="contact"
  {as}
  {size}
  {variant}
  {...rest}
>
  <Element class:list="contact-container">
    <Element class:list="contact-segment">
      <Element class:list="contact-content">
        <Tagline text={tagline} />
        <Heading
          size={'sm'}
          level={level}
          text={heading}
        />
        <Text text={paragraph} />
      </Element>
      <Channels {channels} />
      <Socials {socials} />
      <Form
        action="/thank-you"
        method="POST"
        {...form}
      />
    </Element>
    <Image
      class:list="contact-image"
      {position}
      {...image}
    />
  </Element>
</Element>

<style is:global>
  @layer fulldev {
    .contact {
      @apply relative w-full;

      .contact-container {
        @apply mx-auto flex h-full w-full flex-col;
      }

      .contact-segment {
        @apply z-10 flex flex-col items-start gap-8;
      }

      .contact-content {
        @apply flex max-w-screen-md flex-col gap-6;
      }

      &.dark {
        @apply bg-background;
      }

      /* Narrow left aligned */
      &.variant-1 {
        .contact-container {
          @apply max-w-screen-md px-gutter py-8;
        }

        .contact-segment {
          @apply gap-8 py-16;
        }

        .content-image {
          @apply rounded-lg;
        }
      }

      /* Split */
      &.variant-2 {
        .contact-container {
          @apply container gap-x-gutter gap-y-16 py-20 lg:grid lg:grid-cols-2 lg:items-center;
        }

        .contact-segment {
          @apply max-w-xl;
        }

        .contact-image {
          @apply rounded-lg;
        }
      }
    }
  }
</style>
