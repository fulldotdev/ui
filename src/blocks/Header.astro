---
import Box from '@/components/Box.astro'
import Buttons from '@/components/Buttons.astro'
import Cart from '@/components/Cart.tsx'
import Container from '@/components/Container.astro'
import DrawerMenu from '@/components/DrawerMenu'
import Logo from '@/components/Logo.astro'
import Menu from '@/components/Menu.astro'
import NavigationMenu from '@/components/NavigationMenu.tsx'
import Search from '@/components/Search.tsx'
import type { ComponentProps, HTMLAttributes } from 'astro/types'

interface Props extends HTMLAttributes<'header'> {
  logo?: ComponentProps<typeof Logo>
  menus?: ComponentProps<typeof Menu>[]
  buttons?: ComponentProps<typeof Buttons>['buttons']
  search?: boolean
}

const { logo, menus, buttons, search, class: className } = Astro.props
---

<Box
  class:list={['header bg-background sticky top-0 z-20 flex h-14 w-full border-b', className]}
  as="header"
>
  <Container class="flex items-center justify-between gap-8">
    <Box class="flex items-center gap-4">
      <Logo {...logo} />
      <NavigationMenu
        client:load
        className="max-lg:hidden"
        items={menus}
      />
    </Box>
    <Box class="inline-flex items-center gap-2">
      <Search
        groups={search}
        client:load
      />
      <Buttons
        class="max-sm:hidden"
        size="sm"
        {buttons}
        reverse
      />
      <Cart client:load />
      <DrawerMenu
        client:load
        className="size-8 lg:hidden"
        items={menus}
      />
    </Box>
  </Container>
</Box>
