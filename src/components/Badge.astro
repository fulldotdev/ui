---
import Box from '@/components/Box.astro'
import { badgeVariants } from '@/components/ui/badge'
import { buttonVariants } from '@/components/ui/button'
import { cn } from '@/lib/utils'
import type { HTMLAttributes } from 'astro/types'
import type { VariantProps } from 'class-variance-authority'

interface Props extends HTMLAttributes<'a'>, VariantProps<typeof badgeVariants> {
  size?: 'default' | 'lg'
  text?: string
}

const { href, text, variant, class: className, size, ...rest } = Astro.props
---

<Box
  class={cn(
    'badge',
    href ? buttonVariants({ variant }) : '',
    badgeVariants({ variant }),
    {
      'h-7 px-3.5': size === 'lg',
    },
    className
  )}
  {href}
  {...rest}
>
  <Fragment set:html={text} />
  <slot />
</Box>
