---
import Box from '@/components/Box.astro'
import { badgeVariants } from '@/components/ui/badge'
import { buttonVariants } from '@/components/ui/button'
import type { BadgeSchema } from '@/schemas/components/badge'
import type { HTMLAttributes } from 'astro/types'
import type { VariantProps } from 'class-variance-authority'

interface Props extends Omit<HTMLAttributes<'a'>, 'href'>, BadgeSchema, VariantProps<typeof badgeVariants> {
  size?: 'default' | 'lg'
}

const { href, text, variant, class: className, size, ...rest } = Astro.props
---

<Box
  class:list={[
    'badge',
    href ? buttonVariants({ variant }) : '',
    badgeVariants({ variant }),
    {
      'h-7 px-3.5': size === 'lg',
    },
    className,
  ]}
  {href}
  {...rest}
>
  <Fragment set:html={text} />
  <slot />
</Box>
