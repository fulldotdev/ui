---
import type { HTMLAttributes } from 'astro/types'
import Element from 'fulldev-ui/components/Element.astro'
import Icon from './Icon.astro'

interface Props extends HTMLAttributes<'div'> {
  phone?: string | undefined
  email?: string | undefined
  address?: string | undefined
}

const { phone, email, address, ...rest } = Astro.props

const channels = [
  {
    text: phone,
    href: `tel:${phone}`,
    icon: 'phone',
  },
  {
    text: email,
    href: `mailto:${email}`,
    icon: 'mail',
  },
  {
    text: address,
    href: `https://maps.google.com/?q=${address}`,
    icon: 'map-pin',
  },
]
---

<Element
  class:list="flex flex-col gap-2"
  {...rest}
>
  {
    channels
      .filter((channel) => channel.text)
      .map(({ text, href, icon }) => (
        <Element
          class:list="channel text-foreground/80 hover:text-foreground flex items-center gap-2 transition-colors"
          as="a"
          target="_blank"
          href={href}
          {...rest}
        >
          <Icon name={icon} />
          <Fragment set:html={text} />
        </Element>
      ))
  }
</Element>
