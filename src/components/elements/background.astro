---
import { cn } from "@/lib/utils"

import BackgroundReact from "./background"
import BackgroundAi from "./background-ai.astro"
import BackgroundGradient from "./background-gradient.astro"
import BackgroundRainbow from "./background-rainbow.astro"

interface Props {
  variant?:
    | "grid"
    | "animated-grid"
    | "flickering-grid"
    | "retro-grid"
    | "dots"
    | "meteors"
    | "particles"
    | "ripple"
    | "warp"
    | "gradient"
    | "ai"
    | "rainbow"
  class?: string
  [key: string]: any
}

const { variant, class: className, ...props } = Astro.props

if (!variant) {
  // Return nothing if no variant specified
}
---

{
  variant === "gradient" && (
    <div class={cn("absolute inset-0 -z-10", className)}>
      <BackgroundGradient {...props} />
    </div>
  )
}

{
  variant === "ai" && (
    <div class={cn("absolute inset-0 -z-10", className)}>
      <BackgroundAi {...props} />
    </div>
  )
}

{
  variant === "rainbow" && (
    <div class={cn("absolute inset-0 -z-10", className)}>
      <BackgroundRainbow {...props} />
    </div>
  )
}

{
  (variant === "grid" ||
    variant === "animated-grid" ||
    variant === "flickering-grid" ||
    variant === "retro-grid" ||
    variant === "dots" ||
    variant === "meteors" ||
    variant === "particles" ||
    variant === "ripple" ||
    variant === "warp") && (
    <BackgroundReact
      client:load
      variant={variant}
      className={className}
      {...props}
    />
  )
}
