---
import type { ComponentProps, HTMLAttributes } from 'astro/types'
import Button from 'fulldev-ui/components/Button.astro'
import Element from 'fulldev-ui/components/Element.astro'
import Fields from 'fulldev-ui/components/Fields.astro'

interface Props extends HTMLAttributes<'form'> {
  fields?: ComponentProps<typeof Fields>['fields']
  button?: ComponentProps<typeof Button> | undefined
}

const { fields, button, ...rest } = Astro.props
---

<Element
  class:list="form"
  as="form"
  {...rest}
>
  <Fields {fields} />
  <slot />
  <Button
    type="submit"
    {...button}
  />
</Element>

<style is:global>
  @layer fulldev {
    .form {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-4);
      width: 100%;
      max-width: var(--container-3xl);
    }
  }
</style>
