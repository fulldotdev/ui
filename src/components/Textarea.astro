---
import Element from '@/components/Element.astro'
import Label from '@/components/Label.astro'
import { textareaVariants } from '@/components/shadcn/textarea/index.ts'
import type { HTMLAttributes } from 'astro/types'

interface Props extends HTMLAttributes<'div'> {
  label?: string | undefined
  // input
  type?: 'text' | 'email' | 'tel'
  placeholder?: string
  name?: string
  id?: string
  value?: string
  disabled?: boolean
  required?: boolean
  readonly?: boolean
}

const {
  label,
  // textarea
  placeholder,
  name = label || placeholder,
  id = name,
  value,
  disabled,
  required,
  readonly,
  ...rest
} = Astro.props
---

<Element
  class:list="textarea flex flex-col"
  {...rest}
>
  <Label
    class="pb-1.5"
    for={id}
    text={label}
  />
  <Element
    show={id}
    class:list={[textareaVariants()]}
    as="textarea"
    {placeholder}
    {name}
    {id}
    {value}
    {disabled}
    {required}
    {readonly}
  >
    {value}
  </Element>
</Element>
