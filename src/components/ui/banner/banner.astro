---
import type { HTMLAttributes } from "astro/types"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const variants = cva("flex relative w-full", {
  variants: {
    size: {
      sm: "py-16",
      default: "py-16",
      lg: "py-16",
    },
    align: {
      start: "items-start",
      center: "items-center",
      end: "items-end",
    },
    variant: {
      default: "bg-primary text-primary-foreground",
      outline: "border-border not-first:border-t not-last:border-b",
      secondary: "bg-secondary text-secondary-foreground",
      ghost: "bg-transparent",
    },
  },
  defaultVariants: {
    size: "default",
    align: "start",
    variant: "default",
  },
})

interface Props
  extends HTMLAttributes<"section">,
    VariantProps<typeof variants> {}

const { class: className, size, align, variant, ...props } = Astro.props

const slot = await Astro.slots.render("default")
---

{
  slot.trim().length > 0 && (
    <section
      class={cn(variants({ size, align, variant }), className)}
      {...props}
    >
      <Fragment set:html={slot} />
    </section>
  )
}
