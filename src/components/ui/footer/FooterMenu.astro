---
import type { HTMLAttributes } from "astro/types"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

interface Props
  extends HTMLAttributes<"ul">,
    VariantProps<typeof footerMenuVariants> {}

const footerMenuVariants = cva(
  "w-content flex w-max flex-col gap-y-2 gap-x-4",
  {
    variants: {
      orientation: {
        vertical: "flex-col",
        horizontal: "flex-col lg:flex-row",
      },
    },
    defaultVariants: {
      orientation: "vertical",
    },
  }
)

const { class: className, orientation, ...props } = Astro.props

const slot = await Astro.slots.render("default")
---

{
  slot.trim().length > 0 && (
    <menu
      data-slot="footer-menu"
      class={cn(footerMenuVariants({ orientation }), className)}
      {...props}
    >
      <Fragment set:html={slot} />
    </menu>
  )
}
