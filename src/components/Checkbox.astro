---
import type { ComponentProps, HTMLAttributes } from 'astro/types'
import Element from 'fulldev-ui/components/Element.astro'
import Label from 'fulldev-ui/components/Label.astro'

interface Props
  extends ComponentProps<typeof Element>,
    HTMLAttributes<'input'> {
  label?: ComponentProps<typeof Label>['text']
}

const {
  label,
  contrast,
  icon,
  name,
  id,
  placeholder,
  value,
  disabled,
  checked,
  required,
  ...rest
} = Astro.props
---

<Element
  structure="row"
  class:list="checkbox"
  {...rest}
>
  <Element
    as="input"
    type="checkbox"
    id={id ?? name ?? label}
    if={id ?? name ?? label}
    name={name ?? label ?? id}
    {disabled}
    {required}
    {checked}
    {...rest}
  />
  <Label
    for={id ?? name ?? label}
    html={label}
    {contrast}
  />
</Element>

<style lang="scss" is:global>
  @layer fulldev {
    .checkbox {
      align-items: center;
      gap: var(--space-1);

      input {
        display: block;
        width: var(--text-2);
        height: var(--text-2);
        accent-color: var(--color-9);
        color-scheme: dark;
      }
    }
  }
</style>
