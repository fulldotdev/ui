---
import type { HTMLAttributes } from 'astro/types'
import Label from 'fulldev-ui/components/Label.astro'
import Root from 'fulldev-ui/components/Root.astro'

type Props = Omit<HTMLAttributes<'input'>, 'type'> & {
  label?: string
  color?: 'base' | 'brand'
  contrast?: boolean
  icon?: string
}

const {
  label,
  contrast,
  icon,
  name,
  id,
  placeholder,
  value,
  disabled,
  checked,
  required,
  ...rest
} = Astro.props
---

<Root
  structure="row"
  class:list="checkbox"
  {...rest}
>
  <Root
    as="input"
    type="checkbox"
    id={id ?? name ?? label}
    if={id ?? name ?? label}
    name={name ?? label ?? id}
    {disabled}
    {required}
    {checked}
    {...rest}
  />
  <Label
    for={id ?? name ?? label}
    html={label}
    {contrast}
  />
</Root>

<style lang="scss" is:global>
  @layer fulldev {
    .checkbox {
      align-items: center;
      gap: var(--space-1);

      input {
        display: block;
        width: var(--text-2);
        height: var(--text-2);
        accent-color: var(--color-9);
        color-scheme: dark;
      }
    }
  }
</style>
