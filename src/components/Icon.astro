---
import tablerIcons from '@iconify-json/tabler/icons.json'
import type { HTMLAttributes } from 'astro/types'
import Element from 'fulldev-ui/components/Element.astro'
import type { GlobalProps } from 'fulldev-ui/types/global-props'

interface Props extends GlobalProps, HTMLAttributes<'i'> {
  name?: string | undefined
}

const { name, ...rest } = Astro.props

const trimmedName = name?.trim() as string | undefined
const icon = trimmedName
  ? (tablerIcons as any)?.icons[trimmedName]?.body
  : undefined
---

<Element
  class:list="icon"
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 24 24"
  as="svg"
  {...rest}
>
  <Fragment set:html={icon} />
</Element>

<style is:global>
  @layer fulldev {
    .icon {
      @apply flex h-5 w-5 text-inherit;

      * {
        stroke-width: 1.7px;
      }
    }
  }
</style>
