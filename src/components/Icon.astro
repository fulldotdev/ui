---
import Box from '@/components/Box.astro'
import { cn } from '@/lib/utils'
import tablerIcons from '@iconify-json/tabler/icons.json'
import type { HTMLAttributes } from 'astro/types'

interface Props extends HTMLAttributes<'svg'> {
  name?: string | null | undefined
}

const { name, class: className, ...rest } = Astro.props

const trimmedName = name?.trim()
const icon = trimmedName ? (tablerIcons as any)?.icons[trimmedName]?.body : undefined
---

<Box
  class={cn('icon size-[1em] inline-flex child:stroke-[calc(1em/12)]', className)}
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 24 24"
  as="svg"
  {...rest}
>
  <Fragment set:html={icon} />
</Box>
