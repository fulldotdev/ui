---
import { cn } from "@/lib/utils"
import {
  Section,
  SectionContent,
  SectionGrid,
  SectionProse,
  SectionSpread,
} from "@/components/ui/section"
import Block from "@/components/block.astro"

import { Badge } from "../ui/badge"
import { Tabs } from "../ui/tabs"

interface Props {
  class?: string
  id?: string
  title?: string
  description?: string
  items?: any[]
}

const { class: className, id, title, description, items } = Astro.props
---

<Section class={cn("", className)} id={id}>
  <SectionSpread>
    <SectionContent>
      <SectionProse>
        {title && <h1>{title}</h1>}
        {description && <p>{description}</p>}
      </SectionProse>
    </SectionContent>
  </SectionSpread>
  <SectionGrid class="grid-cols-1 sm:grid-cols-1 @6xl:grid-cols-2">
    {
      items?.map(({ block, href, ...props }) => (
        <div class="group relative aspect-video overflow-hidden rounded-lg border">
          <div class="@container w-[400%] origin-top-left scale-25 transition-opacity group-hover:opacity-50 @xl:w-[200%] @xl:scale-50">
            <Block block={block} {...props} />
          </div>
          <a
            href={href}
            class="absolute inset-0 flex size-full items-end p-4 text-sm opacity-25 transition-opacity group-hover:opacity-100"
          >
            <Badge variant="secondary">{block}</Badge>
          </a>
        </div>
      ))
    }
  </SectionGrid>
</Section>
