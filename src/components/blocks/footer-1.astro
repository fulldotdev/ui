---
import type { ComponentProps } from "astro/types"

import { Button } from "@/components/ui/button"
import {
  Footer,
  FooterActions,
  FooterContainer,
  FooterDescription,
  FooterGrid,
  FooterGroup,
  FooterGroupContent,
  FooterGroupLabel,
  FooterMenu,
  FooterMenuItem,
  FooterMenuLink,
  FooterSplit,
  FooterSpread,
} from "@/components/ui/footer"
import { Icon } from "@/components/ui/icon"
import { Logo, LogoImage, LogoText } from "@/components/ui/logo"

interface Props {
  title?: string
  image?: ComponentProps<typeof LogoImage>
  description?: string
  socials?: string[]
  menus?: {
    text?: string
    href?: string
    links?: {
      text?: string
      href?: string
    }[]
  }[]
  links?: {
    href?: string
    text?: string
    icon?: string
  }[]
}

const { title, image, description, links, socials, menus } = Astro.props
---

<Footer>
  <FooterContainer>
    <FooterSplit>
      <FooterGroup>
        <Logo href="/">
          <LogoImage {...image} />
          <LogoText>{title}</LogoText>
        </Logo>
        <FooterDescription>{description}</FooterDescription>
        <FooterMenu>
          {
            links?.map(({ href, icon, text }) => (
              <FooterMenuItem>
                <FooterMenuLink href={href}>
                  <Icon name={icon} href={href} />
                  {text}
                </FooterMenuLink>
              </FooterMenuItem>
            ))
          }
        </FooterMenu>
        <FooterActions class="-mx-2">
          {
            socials?.map((social) => (
              <Button variant="ghost" size="icon-sm" href={social}>
                <Icon href={social} />
              </Button>
            ))
          }
        </FooterActions>
      </FooterGroup>
      <FooterGrid class="lg:col-span-3 lg:justify-end">
        {
          menus?.map((menu) => (
            <FooterGroup>
              <FooterGroupLabel>{menu.text}</FooterGroupLabel>
              <FooterGroupContent>
                <FooterMenu>
                  {menu.links?.map(({ href, text }) => (
                    <FooterMenuItem>
                      <FooterMenuLink href={href}>{text}</FooterMenuLink>
                    </FooterMenuItem>
                  ))}
                </FooterMenu>
              </FooterGroupContent>
            </FooterGroup>
          ))
        }
      </FooterGrid>
    </FooterSplit>
    <FooterSpread class="mt-8 border-t pt-8">
      <FooterDescription size="sm" />
      <FooterMenu orientation="horizontal" />
    </FooterSpread>
  </FooterContainer>
</Footer>
