---
import Abstract from '@/components/Abstract.astro'
import Avatar from '@/components/Avatar.astro'
import Box from '@/components/Box.astro'
import Rating from '@/components/Rating.astro'
import type { ComponentProps, HTMLAttributes } from 'astro/types'

interface Props extends HTMLAttributes<'div'> {
  avatars?: ComponentProps<typeof Avatar>[]
  rating?: ComponentProps<typeof Rating>['score']
  text?: string
}

const { avatars, rating, text, ...rest } = Astro.props
---

<Box
  class:list="flex items-center gap-2 text-sm"
  {...rest}
>
  <Box class:list="flex -space-x-3">
    {avatars?.map((avatar) => <Avatar {...avatar} />)}
  </Box>
  <Abstract>
    <Rating
      score={rating}
      size="sm"
    />
    <Fragment set:html={text} />
  </Abstract>
</Box>
