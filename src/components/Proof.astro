---
import type { ComponentProps, HTMLAttributes } from 'astro/types'
import Avatars from 'fulldev-ui/components/Avatars.astro'
import Element from 'fulldev-ui/components/Element.astro'
import Label from 'fulldev-ui/components/Label.astro'
import Rating from 'fulldev-ui/components/Rating.astro'

interface Props extends HTMLAttributes<'div'> {
  avatar?: ComponentProps<typeof Avatars>['avatar']
  avatars?: any
  rating?: number | undefined
  text?: string | undefined
}

const { avatar, avatars, rating, text, ...rest } = Astro.props
---

<Element
  class:list="proof"
  {...rest}
>
  <Avatars
    {avatar}
    {avatars}
  />
  <Element class="proof-segment">
    <Rating
      score={rating}
      size="sm"
    />
    <Label
      size="md"
      text={text}
    />
  </Element>
</Element>

<style is:global>
  @layer fulldev {
    .proof {
      display: flex;
      align-items: center;

      > .avatar {
        margin-right: -var(--spacing-5);

        &:last-of-type {
          margin-right: -var(--spacing-2);
        }
      }

      .proof-segment {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-1);
      }
    }
  }
</style>
