---
import type { ComponentProps } from 'astro/types'
import Button from 'fulldev-ui/components/Button.astro'

interface Props extends ComponentProps<typeof Button> {}

const { variant = 'secondary', icon, href } = Astro.props

const platform = () => {
  if (typeof href !== 'string') return
  if (href.includes('x.com')) return 'brand-x'
  if (href.includes('facebook')) return 'brand-facebook'
  if (href.includes('instagram')) return 'brand-instagram'
  if (href.includes('linkedin')) return 'brand-linkedin'
  if (href.includes('youtube')) return 'brand-youtube'
  if (href.includes('tiktok')) return 'brand-tiktok'
  if (href.includes('twitch')) return 'brand-twitch'
  if (href.includes('github')) return 'brand-github'
  if (href.includes('discord')) return 'brand-discord'
  return undefined
}
---

<Button
  class:list={'social'}
  icon={icon ?? platform()}
  {variant}
  {href}
/>

<style is:global lang="scss">
  .social {
    padding: 0 var(--space-3);
    height: calc(var(--text-2) + 2 * var(--space-3));
  }
</style>
