---
import type { HTMLTag, Polymorphic } from 'astro/types'
import Root from 'fulldev-ui/components/Root.astro'

type Props<As extends HTMLTag = 'div'> = Polymorphic<{ as: As }>

const { as = 'div', ...rest } = Astro.props
---

<Root
  class:list="prose"
  {as}
  {...rest}
>
  <slot />
</Root>

<style is:global lang="scss">
  @layer fulldev {
    .prose {
      width: 100%;
      scroll-margin-top: var(--space-6);
      color: var(--color-11);
      font-weight: var(--font-weight);
      font-size: var(--text-3);
      line-height: 1.7;
      font-family: var(--font-family);

      > {
        .astro-code,
        .window,
        .table {
          margin-top: var(--space-5);
        }

        * {
          margin: 0;
        }

        p {
          margin-top: var(--space-4);
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
          color: var(--color-12);
          font-weight: 700;
          line-height: 1.2;
        }

        h1 {
          margin-top: var(--space-6);
          scroll-margin-top: var(--space-6);
          font-size: var(--text-8);
        }

        h2 {
          margin-top: var(--space-6);
          scroll-margin-top: var(--space-6);
          font-size: var(--text-7);
        }

        h3 {
          margin-top: var(--space-6);
          scroll-margin-top: var(--space-6);
          font-size: var(--text-6);
        }

        h4 {
          margin-top: var(--space-5);
          scroll-margin-top: var(--space-5);
          font-size: var(--text-5);
        }

        h5 {
          margin-top: var(--space-5);
          scroll-margin-top: var(--space-5);
          font-size: var(--text-4);
        }

        h6 {
          margin-top: var(--space-5);
          scroll-margin-top: var(--space-5);
          font-size: var(--text-3);
        }

        *:first-child {
          margin-top: 0;
        }
      }

      .display {
        display: grid;
        width: 100%;
        max-width: none;

        table {
          h1,
          h2,
          h3,
          h4,
          h5,
          h6 {
            margin: var(--space-2) 0;

            font: 600 var(--text-3) 'Saira';

            & + p {
              color: var(--hue11);
            }
          }
        }
      }

      table {
        margin: var(--space-5) 0;
        border: 1px solid var(--border);
        border-radius: var(--radius-1) !important;
        border-collapse: collapse;
        width: 100%;
      }

      th {
        border-bottom: 1px solid var(--border);
        background: var(--raised-background) !important;
        color: var(--muted-foreground) !important;
        font-weight: 500 !important;
        font-size: var(--text-3) !important;
      }

      td {
        color: var(--muted-foreground) !important;
      }

      th,
      td {
        padding: var(--space-2);
      }

      table a {
        color: var(--solid) !important;
        font-size: var(--text-3) !important;
        line-height: 1 !important;
        white-space: nowrap;
      }

      table a:hover {
        text-decoration: underline;
      }
    }
  }
</style>
