<!-- ---
import Button from 'fulldev-ui/components/Button.astro'

const { componentProps } = Astro.props

const randomId = Math.random().toString(36).substring(2, 15)
const id = componentProps.title?.toLowerCase().replace(/ /g, '-') ?? randomId

const isComponent =
  Astro.url.pathname.includes('components/') ||
  Astro.url.pathname.includes('frameworks') ||
  Astro.url.pathname.includes('base/') ||
  Astro.url.pathname.includes('typography/') ||
  Astro.url.pathname.includes('segment/')
---

{
  isComponent ? (
    <div class="component window">
      <div class="example-container">
        <slot name="example" />
      </div>
      <div class="code-container">
        <slot name="code" />
      </div>
    </div>
  ) : (
    <div class="window block">
      <div class="button-header">
        <Button
          for={id}
          variant="secondary"
        >
          Preview / Code
        </Button>
      </div>
      <input
        type="checkbox"
        id={id}
        name={id}
        class="window-toggle"
      />
      <div class="example-container">
        <slot name="example" />
      </div>
      <div class="code-container">
        <slot name="code" />
      </div>
    </div>
  )
}

<style is:global>
  @layer fulldev {
    .window {
      .code-container {
        @apply w-full;
      }

      &.component {
        border: 1px solid var(--base-6);
        border-radius: var(--radius-2);
        overflow: hidden;

        .example-container {
          display: flex;
          flex-direction: column;
          align-items: start;
          gap: var(--space-4);
          padding: var(--space-5);
        }

        .code-container {
          border: none;
          border-top: 1px solid var(--base-6);
          border-radius: 0px;

          .astro-code {
            border: none !important;
            border-radius: 0px !important;
          }
        }
      }

      &.block {
        gap: var(--space-2);
        padding-top: var(--space-7);
        padding-bottom: var(--space-7);

        .button-header {
          padding: 0 var(--gutter);
        }

        .code-container {
          display: none;
          padding: 0 var(--gutter);
          max-width: calc(100% - (2 * var(--gutter)));
        }

        .window-toggle {
          display: none;
          visibility: hidden;
          opacity: 0;
        }

        .window-toggle:checked {
          & ~ .example-container {
            display: none;
          }
          & ~ .code-container {
            display: block;
          }
        }

        .example-container {
          border-top: 1px solid var(--base-6);
          width: 100%;
        }
      }
    }
  }
</style> -->
