---
import Box from '@/components/Box.astro'
import { cn } from '@/lib/utils'
import type { HTMLAttributes } from 'astro/types'
import { Image } from 'astro:assets'

interface Props extends HTMLAttributes<'span'> {
  src?: string | null
  alt?: string | null
}

const { class: className, alt = '', src, ...rest } = Astro.props
---

{
  src && (
    <Box
      class:list={cn('avatar relative flex size-8 shrink-0 overflow-hidden rounded-full', className)}
      as="span"
      {...rest}
    >
      <Image
        class:list="aspect-square size-full object-cover"
        width={40}
        height={40}
        {alt}
        {src}
      />
    </Box>
  )
}
