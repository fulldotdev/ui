---
import Box from '@/components/Box.astro'
import { avatarVariant, type AvatarVariants } from '@/components/ui/avatar'
import type { HTMLAttributes } from 'astro/types'
import { Image } from 'astro:assets'

interface Props extends HTMLAttributes<'span'>, AvatarVariants {
  src?: string
  alt?: string
}

const { class: className, size, shape, alt = '', src, ...rest } = Astro.props
---

<Box
  class:list={['avatar', avatarVariant({ size, shape }), className]}
  as="span"
  {...rest}
>
  {
    src && (
      <Image
        class:list="h-full w-full object-cover"
        width={40}
        height={40}
        {alt}
        {src}
      />
    )
  }
</Box>
