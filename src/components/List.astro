---
import Box from '@/components/Box.astro'
import Icon from '@/components/Icon.astro'
import { cn } from '@/lib/utils'
import type { HTMLAttributes } from 'astro/types'

interface Props extends HTMLAttributes<'ul' | 'ol'> {
  as?: 'ul' | 'ol'
  muted?: boolean | null | undefined
  items?: string[] | null | undefined
  icon?: string | null | undefined
}

const { as = 'ul', muted = false, class: className, items, icon, ...rest } = Astro.props
---

<Box
  class={cn('list ml-4 list-disc space-y-2', className)}
  {as}
  {...rest}
>
  {
    items?.map((item) => (
      <Box as="li">
        <Icon name={icon} />
        <Box as="span">
          <Fragment set:html={item} />
        </Box>
      </Box>
    ))
  }
  <slot />
</Box>
