{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "layout",
  "type": "registry:component",
  "registryDependencies": [
    "@fulldev/block"
  ],
  "files": [
    {
      "path": "src/components/layout.astro",
      "content": "---\nimport { getImage } from \"astro:assets\"\n\nimport \"@/styles/global.css\"\n\nimport { Font } from \"astro:assets\"\nimport site from \"site.json\"\n\nimport type { PageSchema } from \"@/lib/schemas\"\nimport { ThemeProvider } from \"@/components/ui/theme-toggle\"\nimport Block from \"@/components/block.astro\"\n\ntype Props = PageSchema\n\nconst baseUrl = Astro.site?.origin || Astro.url.origin\nconst pagePathname = Astro.url.pathname.endsWith(\"/\")\n  ? Astro.url.pathname\n  : `${Astro.url.pathname}/`\nconst pageUrl = `${baseUrl}${pagePathname}`\n\nconst { headers, sections, footers, block, seo, head, ...props } = Astro.props\n\nconst title = seo?.title || props?.title\nconst description = seo?.description || props?.description\nconst image = seo?.image || props?.image\nconst transformedImage = image?.src\n  ? await getImage({\n      src: image.src,\n      format: \"png\",\n      width: 1200,\n      height: 630,\n      quality: \"medium\",\n    })\n  : undefined\n---\n\n<html class={site.theme} lang={Astro.currentLocale}>\n  <head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <meta name=\"generator\" content={Astro.generator} />\n    <meta charset=\"UTF-8\" />\n    <link rel=\"canonical\" href={seo?.canonical} />\n    <title>{title}</title>\n    <meta name=\"description\" content={description} />\n    <meta property=\"og:title\" content={title} />\n    <meta property=\"og:description\" content={description} />\n    <meta property=\"og:type\" content=\"website\" />\n    <meta property=\"og:url\" content={pageUrl} />\n    <meta property=\"og:locale\" content={Astro.currentLocale} />\n    <meta property=\"og:image\" content={`${baseUrl}${transformedImage?.src}`} />\n    <meta\n      property=\"og:image:url\"\n      content={`${baseUrl}${transformedImage?.src}`}\n    />\n    <meta\n      property=\"og:image:secure_url\"\n      content={`${baseUrl}${transformedImage?.src}`}\n    />\n    <meta\n      property=\"og:image:type\"\n      content={transformedImage?.attributes.format || \"image/png\"}\n    />\n    <meta\n      property=\"og:image:width\"\n      content={transformedImage?.attributes.width.toString()}\n    />\n    <meta\n      property=\"og:image:height\"\n      content={transformedImage?.attributes.height.toString()}\n    />\n    <meta property=\"og:image:alt\" content={image?.alt} />\n    <meta\n      name=\"robots\"\n      content={`${seo?.noindex ? \"noindex\" : \"index\"}, ${seo?.nofollow ? \"nofollow\" : \"follow\"}`}\n    />\n    <Fragment\n      set:html={`<script type=\"application/ld+json\">${JSON.stringify(\n        {\n          \"@context\": \"https://schema.org\",\n          \"@type\": \"WebSite\",\n          name: site.name,\n          url: pageUrl,\n          logo: {\n            \"@type\": \"ImageObject\",\n            url: `${baseUrl}${transformedImage?.src}`,\n            alt: image?.alt,\n            width: transformedImage?.attributes.width.toString(),\n            height: transformedImage?.attributes.height.toString(),\n          },\n          description: description,\n          headline: title,\n          creator: {\n            \"@type\": \"Organization\",\n            name: site.name,\n            url: pageUrl,\n          },\n        },\n        null,\n        2\n      )}</script>`}\n    />\n    <Font cssVariable=\"--font-base\" preload />\n    <Font cssVariable=\"--font-heading\" preload />\n    <ThemeProvider />\n    <Fragment set:html={Astro.props.head} />\n    <slot name=\"head\" />\n    <script is:inline>\n      !(function (t, e) {\n        var o, n, p, r\n        e.__SV ||\n          (window.posthog && window.posthog.__loaded) ||\n          ((window.posthog = e),\n          (e._i = []),\n          (e.init = function (i, s, a) {\n            function g(t, e) {\n              var o = e.split(\".\")\n              ;(2 == o.length && ((t = t[o[0]]), (e = o[1])),\n                (t[e] = function () {\n                  t.push([e].concat(Array.prototype.slice.call(arguments, 0)))\n                }))\n            }\n            ;(((p = t.createElement(\"script\")).type = \"text/javascript\"),\n              (p.crossOrigin = \"anonymous\"),\n              (p.async = !0),\n              (p.src =\n                s.api_host.replace(\".i.posthog.com\", \"-assets.i.posthog.com\") +\n                \"/static/array.js\"),\n              (r = t.getElementsByTagName(\"script\")[0]).parentNode.insertBefore(\n                p,\n                r\n              ))\n            var u = e\n            for (\n              void 0 !== a ? (u = e[a] = []) : (a = \"posthog\"),\n                u.people = u.people || [],\n                u.toString = function (t) {\n                  var e = \"posthog\"\n                  return (\n                    \"posthog\" !== a && (e += \".\" + a),\n                    t || (e += \" (stub)\"),\n                    e\n                  )\n                },\n                u.people.toString = function () {\n                  return u.toString(1) + \".people (stub)\"\n                },\n                o =\n                  \"init Br Vr ci Wr Jr zr qr capture Ni calculateEventProperties Xr register register_once register_for_session unregister unregister_for_session es getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSurveysLoaded onSessionId getSurveys getActiveMatchingSurveys renderSurvey displaySurvey cancelPendingSurvey canRenderSurvey canRenderSurveyAsync identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty Zr Yr createPersonProfile ts Nr rs opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing get_explicit_consent_status is_capturing clear_opt_in_out_capturing Kr debug O Qr getPageViewId captureTraceFeedback captureTraceMetric Dr\".split(\n                    \" \"\n                  ),\n                n = 0;\n              n < o.length;\n              n++\n            )\n              g(u, o[n])\n            e._i.push([i, s, a])\n          }),\n          (e.__SV = 1))\n      })(document, window.posthog || [])\n      posthog.init(\"phc_mVacbe8Xydu0UZlh4bNw5EGisvzyRcpqXEEuEEp5lOY\", {\n        api_host: \"https://eu.i.posthog.com\",\n        defaults: \"2025-11-30\",\n        person_profiles: \"identified_only\", // or 'always' to create profiles for anonymous users as well\n      })\n    </script>\n  </head>\n  <body\n    class=\"text-foreground bg-background font-base @container overscroll-none antialiased\"\n    id={Astro.url.pathname}\n  >\n    {headers?.map((header) => <Block {...header} />)}\n    <main class=\"@container flex flex-col\">\n      <Block\n        data-cms-bind=\"#\"\n        data-cms-bind-style=\"sidebar\"\n        block={block}\n        {...props}\n      >\n        <slot />\n      </Block>\n      {\n        sections?.map((section, i) => (\n          <div data-cms-bind={`#sections[${i}]`} data-cms-bind-style=\"sidebar\">\n            <Block {...section} />\n          </div>\n        ))\n      }\n    </main>\n    {footers?.map((footer) => <Block {...footer} />)}\n  </body><style>\n    body {\n      font-family: var(--font-base);\n    }\n  </style>\n</html>\n",
      "type": "registry:component"
    }
  ]
}